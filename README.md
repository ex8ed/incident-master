# incident-scrapper

API carrying incidents from txt chats

## –°—Ç–µ–∫

- Python 3.14
- –û—Å–Ω–æ–≤–Ω–∞—è —Å–≤—è–∑–∫–∞: FastAPI + Postgres 15

–í –∫–∞—á–µ—Å—Ç–≤–µ ORM –≤—ã–±—Ä–∞–Ω–∞ SQLAlchemy, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è docker –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–∞—à–µ—Ç –ø–æ–¥ uvicorn.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```md
.
‚îú‚îÄ‚îÄ app
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ api
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ incident.py  
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ core
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ config.py
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ database.py
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ middleware.py
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ models
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ incident.py
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ schemas
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ incident.py
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ services
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ incident_service.py
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ requirements.txt
```

> –ö–∞–∂–¥—ã–π –∫–∞—Ç–∞–ª–æ–≥, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É -py –º–æ–¥—É–ª—è–º–∏; —É—Ç–∏–ª–∏—Ç—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –º–æ–¥–µ–ª–∏ –ë–î –∏ —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

## Fast start

–ù–∞ –º–∞—à–∏–Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **Docker** –∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, **docker-compose**

–Ø —Å–ø—Ä—è—Ç–∞–ª –∫—Ä–µ–¥—ã –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ .env —Ñ–∞–π–ª–µ; —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ–≥–æ –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ç–∞–∫–∞—è –∂–µ, –∫–∞–∫ –≤ .env.mock;
**–ï–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å.**

docker-compose.yml —Å–¥–µ–ª–∞–Ω —Ç–∞–∫, —á—Ç–æ —Å–∞–º –ø–æ–¥–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ—Ç —à–∞–≥
–º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å —É—Å–ª–æ–≤–Ω—ã–º, –Ω–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –±–µ–∑ —ç—Ç–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```sh
git clone https://github.com/ex8ed/incident-scrapper.git
cd incident-scrapper

docker-compose up --build
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://localhost:8000

> Swagger: http://localhost:8000/docs

## –°—Ç–∞—Ç—É—Å—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

–°—Ç–∞—Ç—É—Å—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –∫–æ–Ω–µ—á–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π (–ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –∏–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç 422):

–°—Ç–∞—Ç—É—Å—ã:

- open
- in_process
- resolved
- closed

–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤:

- operator
- monitoring
- partner

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### C–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ (POST), /incidents/

> –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –ø–æ–ª—è –≤ —Ç–µ–ª–µ, description –∏ source.

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ (GET) /incidents/

> –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å —Ñ–∏–ª—å—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –ª–∏–º–∏—Ç–æ–º; query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (PATCH) /incidents/{id}

> id ‚Äì path-–ø–∞—Ä–∞–º–µ—Ç—Ä; –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ id –≤–µ—Ä–Ω–µ—Ç 404

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω–¥–∏—Ü–µ–Ω—Ç–∞ –ø–æ id (GET) /incidents/{id}

> id ‚Äì path-–ø–∞—Ä–∞–º–µ—Ç—Ä; –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ id –≤–µ—Ä–Ω–µ—Ç 404 ü§ì

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ swagger, –∏–ª–∏ –≤ [openapi.json](https://github.com/ex8ed/incident-master/blob/main/openapi.json)
